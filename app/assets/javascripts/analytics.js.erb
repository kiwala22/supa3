// require 'walden'
$(document).ready(function(){
   var myChart = echarts.init(document.getElementById('user_segment_graph'), 'walden');
   var yMax = 500;
   var dataShadow = [];
   option = {
      title: {
         text: 'User Segments',
         subtext: 'Distribution of User Segments'
      },
      tooltip : {
            trigger: 'axis',
            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                  type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
      },
      xAxis: {
         data: gon.labels,
         axisTick: {
            show: false
         },
         axisLine: {
            show: false
         },
         z: 10
      },
      yAxis: {
         axisLine: {
            show: false
         },
         axisTick: {
            show: false
         },
         axisLabel: {
            textStyle: {
               color: '#999'
            }
         }
      },
      dataZoom: [
         {
            type: 'inside'
         }
      ],
      series: [
         { // For shadow
            type: 'bar',
            itemStyle: {
               normal: {color: 'rgba(0,0,0,0.05)'}
            },
            barGap:'-100%',
            barCategoryGap:'40%',
            data: dataShadow,
            animation: false
         },
         {
            type: 'bar',
            itemStyle: {
               normal: {
                  color: new echarts.graphic.LinearGradient(
                     0, 0, 0, 1,
                     [
                        {offset: 0, color: '#83bff6'},
                        {offset: 0.5, color: '#188df0'},
                        {offset: 1, color: '#188df0'}
                     ]
                  )
               },
               emphasis: {
                  color: new echarts.graphic.LinearGradient(
                     0, 0, 0, 1,
                     [
                        {offset: 0, color: '#2378f7'},
                        {offset: 0.7, color: '#2378f7'},
                        {offset: 1, color: '#83bff6'}
                     ]
                  )
               }
            },
            data: gon.counts
         }
      ]
   };
   // use configuration item and data specified to show chart
   myChart.setOption(option);
});

$(document).ready(function(){
   var myChart = echarts.init(document.getElementById('segment_trends_graph'), 'walden');
   var title = 'Segment Trends';
   var option = {
      title : {
            text: 'Segments',
            subtext: 'Segment Trends'
      },
      tooltip : {
            trigger: 'axis'
      },
      legend: {
            data: gon.segment_labels
      },
      toolbox: {
            show : true,
            feature : {
               //mark : {show: true},
               //dataView : {show: true, readOnly: false},
               //restore : {show: true},
               //saveAsImage : {show: true}
            }
      },
      calculable : true,
      xAxis : [
            {
               type : 'category',
               boundaryGap : false,
               data : gon.dates
            }
      ],
      yAxis : [
            {
               type : 'value',
               axisLabel : {
                  formatter: '{value} Users'
               }
            }
      ],
      series : gon.series
   };


   // use configuration item and data specified to show chart
   myChart.setOption(option);
});

