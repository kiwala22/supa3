<%= provide(:title, "API Users") %>
<h3>
	<%= "API Users" %>
	<small><%= "All API Users" %></small>
</h3>


<div>
	<table class="table table-striped table-bordered table-hoverlarge-12 columns large-centered">
		<thead>
			<tr>
				<th>No</th>
				<th>First Name</th>
				<th>Last Name</th>
				<th>API ID</th>
				<th>API Key</th>
				<th>User Type</th>
				<th>Registration Status</th>
				<th>Create Time</th>
			</tr>
		</thead>
		<tbody>
			<% @api_users.each_with_index do |api_user, i| %>
			<tr>
				<td><%= (i+1) %></td>
				<td><%= api_user.first_name %></td>
				<td><%= api_user.last_name %></td>
				<td><%= api_user.api_id %></td>
				<% if api_user.api_key.blank? %>
					<!-- add a link -->
					<td><%= link_to 'Generate API Key', user_keys_path(api_user.id) %></td>
				<% else %>
					<td><%= api_user.api_key %></td>
				<% end %>
				<td><%= api_user.user_type.capitalize %></td>
				<td><%= api_user.registered.to_s.capitalize %></td>
				<td><%= (api_user.created_at.to_datetime.strftime("%b %d, %Y %I:%M%P")) %></td>

			</tr>
			<% end %>
		</tbody>
	</table>

</div>
